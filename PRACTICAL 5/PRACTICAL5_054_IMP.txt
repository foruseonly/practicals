INSERT INTO USER1.BREAKINGNEWS VALUES('20 JULY','HEAVY RAINS');
INSERT INTO USER1.BREAKINGNEWS VALUES('21 JULY','WATER SHORTAGE');
INSERT INTO USER1.BREAKINGNEWS VALUES('22 JULY','THUNDERSTORMS');
INSERT INTO USER1.BREAKINGNEWS VALUES('23 JULY','SHOPS CLOSED');

INSERT INTO USER1.PREDICTION VALUES('ARIES','NO WORRIES');
INSERT INTO USER1.PREDICTION VALUES('GEMINI','STAY HYDRATED');
INSERT INTO USER1.PREDICTION VALUES('CAPRICORN','KEEP WORKING HARD');
INSERT INTO USER1.PREDICTION VALUES('SAGGITARIUS','STAY HAPPY');

--index.html--
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>NEWS CHANNEL</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
       
        <form action="CLIENT.jsp">
            SELECT YOUR DATE:-</BR></BR>
            <input type="text" name="DATE" value="" /></BR>
            SELECT YOUR SUN SIGN:-</BR></BR>
            <input type="text" name="SUNSIGN" value="" /></BR></BR>
            <input type="submit" value="SUBMIT" name="SUBMIT" /></BR>
        </form>
    </body>
</html>
--client.jsp--
<%-- 
    Document   : CLIENT
    Created on : Jul 25, 2023, 11:14:14 AM
    Author     : sies
--%>

<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
    </head>
    <body>
    <%
      String choice=request.getParameter("DATE");     
    try {
	mypack.Channel_Service service = new mypack.Channel_Service();
	mypack.Channel port = service.getChannelPort();
	 // TODO initialize WS operation arguments here
	java.lang.String date = "";
	// TODO process result here
	java.lang.String result = port.getBreakingNews(choice);
	out.println("Result = "+result);
    } catch (Exception ex) {
	// TODO handle custom exceptions here
    }
    %>
 
    
    <%
        String choic=request.getParameter("SUNSIGN");
        try {
	mypack.Channel_Service service = new mypack.Channel_Service();
	mypack.Channel port = service.getChannelPort();
	 // TODO initialize WS operation arguments here
	java.lang.String sunsignname = "";
	// TODO process result here
	java.lang.String result = port.getPrediction(choic);
	out.println("Result = "+result);
    } catch (Exception ex) {
	// TODO handle custom exceptions here
    }
    %>
    

         
      
    </body>
</html>
---channel.java---
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package mypack;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.jws.WebService;
import javax.jws.WebMethod;
import javax.jws.WebParam;

/**
 *
 * @author sies
 */
@WebService(serviceName = "Channel")
public class Channel {

    /**
     * Web service operation
     */
    @WebMethod(operationName = "getBreakingNews")
    public String getBreakingNews(@WebParam(name = "date") String date) {
        String cname=null;
       try{
        Class.forName("org.apache.derby.jdbc.ClientDriver");
        Connection con=DriverManager.getConnection("jdbc:derby://localhost:1527/user2","user1","user1@123");
        Statement stmt=con.createStatement();
        ResultSet rs=stmt.executeQuery("SELECT * FROM BREAKINGNEWS WHERE DATE='"+date+"'");
        rs.next();
        cname=rs.getString("NEWS");
        rs.close();
        con.close();
        stmt.close();
    }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    return cname;
   }

    /**
     * Web service operation
     */
    @WebMethod(operationName = "getPrediction")
    public String getPrediction(@WebParam(name = "sunsignname") String sunsignname) {
    String cdname=null;
       try{
        Class.forName("org.apache.derby.jdbc.ClientDriver");
        Connection con=DriverManager.getConnection("jdbc:derby://localhost:1527/user2","user1","user1@123");
        Statement stmt=con.createStatement();
        ResultSet rs=stmt.executeQuery("SELECT * FROM PREDICTION WHERE SUNSIGN='"+sunsignname+"'");
        rs.next();
        cdname=rs.getString("HOROSCOPE");
        rs.close();
        con.close();
        stmt.close();
    }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    return cdname;
   }    
    }

